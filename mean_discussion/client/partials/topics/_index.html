<section ng-init='index()'>
    <h2>Here is the index of the discussion board/topics</h2>
    <table>
        <thead>
            <th>Category</th>
            <th>Title</th>
            <th>Description</th>
            <th>User</th>
        </thead>
        <tbody>
            <tr ng-repeat="topic in topics">
                <td>{{topic._category.name}}</td>
                <td><a href="#!/topics/{{topic._id}}">{{topic.title}}</a></td>
                <td>{{topic.description}}</td>
                <td><a href="#!/users/{{topic._user._id}}">{{topic._user.username}}</a></td>
            </tr>
        </tbody>
    </table>
    <h2>Make a new topic</h2>
    <form class="newTopic" ng-submit='create(newTopic)'>
        <label for="title">Title:</label>
        <input type="text" name="title" value="" ng-model="newTopic.title">{{errors.title.message}}<br>
        <label for="description">Description:</label>
        <input type="textarea" name="description" value="" ng-model="newTopic.description">{{errors.description.message}}<br>
        <label for="category">Category:</label>
        <select class="" name="category" ng-options="category.name for category in categories" ng-model="newTopic._category">
        </select>{{errors._category.message}}<br>
        <input type="submit" name="" value="Create this topic!">
    </form>
</section>
